<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GreyCell Store - Los Mejores Celulares del Mercado</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #fff;
            line-height: 1.6;
            min-height: 100vh;
        }

        /* HEADER */
        .header {
            background: rgba(26, 26, 46, 0.95);
            backdrop-filter: blur(10px);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 2px solid #e94560;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .logo {
            font-size: 2rem;
            font-weight: 900;
            background: linear-gradient(135deg, #e94560 0%, #f77f00 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-shadow: 0 0 30px rgba(233, 69, 96, 0.5);
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { filter: drop-shadow(0 0 10px rgba(233, 69, 96, 0.5)); }
            50% { filter: drop-shadow(0 0 20px rgba(233, 69, 96, 0.8)); }
        }

        .logo-icon {
            font-size: 2.5rem;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .search-bar {
            flex: 1;
            max-width: 600px;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 0.9rem 3rem 0.9rem 1.2rem;
            border: 2px solid #e94560;
            border-radius: 50px;
            font-size: 1rem;
            outline: none;
            background: rgba(255,255,255,0.1);
            color: white;
            transition: all 0.3s;
        }

        .search-bar input::placeholder {
            color: rgba(255,255,255,0.5);
        }

        .search-bar input:focus {
            background: rgba(255,255,255,0.15);
            box-shadow: 0 0 20px rgba(233, 69, 96, 0.5);
        }

        .search-bar button {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, #e94560 0%, #f77f00 100%);
            border: none;
            color: white;
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s;
        }

        .search-bar button:hover {
            transform: translateY(-50%) scale(1.05);
            box-shadow: 0 5px 20px rgba(233, 69, 96, 0.5);
        }

        .cart-icon {
            position: relative;
            background: linear-gradient(135deg, #e94560 0%, #f77f00 100%);
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.5rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cart-icon:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 20px rgba(233, 69, 96, 0.5);
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #fff;
            color: #e94560;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 700;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* OFFERS BANNER */
        .offers-banner {
            background: linear-gradient(135deg, #e94560 0%, #f77f00 100%);
            text-align: center;
            padding: 1rem;
            font-size: 1.1rem;
            font-weight: 700;
            animation: slideText 20s linear infinite;
            overflow: hidden;
            white-space: nowrap;
        }

        @keyframes slideText {
            0% { text-indent: 100%; }
            100% { text-indent: -100%; }
        }

        /* CONTAINER */
        .container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        /* OFFERS SECTION */
        .offers-section {
            background: linear-gradient(135deg, #e94560 0%, #0f3460 100%);
            border-radius: 30px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 20px 60px rgba(233, 69, 96, 0.4);
            position: relative;
            overflow: hidden;
        }

        .offers-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .offers-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            position: relative;
            z-index: 1;
        }

        .offers-title {
            font-size: 2.5rem;
            font-weight: 900;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            text-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .fire-icon {
            animation: bounce 1s infinite;
            font-size: 3rem;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-15px) scale(1.1); }
        }

        .offers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            position: relative;
            z-index: 1;
        }

        /* FILTERS */
        .filters-section {
            background: rgba(26, 26, 46, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            border: 2px solid rgba(233, 69, 96, 0.3);
        }

        .filters-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .filters-title {
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #e94560 0%, #f77f00 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .clear-filters {
            background: none;
            border: 2px solid #e94560;
            color: #e94560;
            padding: 0.6rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s;
        }

        .clear-filters:hover {
            background: #e94560;
            color: white;
            transform: scale(1.05);
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .filter-label {
            font-weight: 700;
            color: #f77f00;
            font-size: 1rem;
        }

        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 0.6rem;
        }

        .filter-btn {
            padding: 0.7rem 1.3rem;
            border: 2px solid rgba(233, 69, 96, 0.5);
            background: rgba(233, 69, 96, 0.1);
            color: white;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
            font-weight: 700;
        }

        .filter-btn:hover {
            border-color: #e94560;
            background: rgba(233, 69, 96, 0.3);
            transform: translateY(-3px);
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #e94560 0%, #f77f00 100%);
            border-color: #e94560;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(233, 69, 96, 0.5);
        }

        /* PRODUCT CARD */
        .product-card {
            background: rgba(26, 26, 46, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            transition: all 0.4s;
            border: 2px solid rgba(233, 69, 96, 0.2);
            cursor: pointer;
            display: flex;
            flex-direction: column;
        }

        .product-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 20px 60px rgba(233, 69, 96, 0.5);
            border-color: #e94560;
        }

        .offer-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #ff0000 0%, #ff6b00 100%);
            color: white;
            padding: 0.7rem 1.2rem;
            border-radius: 30px;
            font-weight: 900;
            font-size: 1rem;
            z-index: 10;
            box-shadow: 0 5px 20px rgba(255, 0, 0, 0.5);
            animation: shake 0.8s infinite;
        }

        @keyframes shake {
            0%, 100% { transform: rotate(-3deg); }
            50% { transform: rotate(3deg); }
        }

        .product-header {
            background: linear-gradient(135deg, #e94560 0%, #0f3460 100%);
            color: white;
            padding: 1.5rem;
            text-align: center;
        }

        .product-brand {
            font-size: 0.9rem;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 800;
        }

        .product-name {
            font-size: 1.3rem;
            font-weight: 800;
            margin: 0.5rem 0;
        }

        .product-image {
            background: rgba(255,255,255,0.05);
            padding: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 220px;
            position: relative;
        }

        .product-image img {
            max-width: 100%;
            max-height: 200px;
            object-fit: contain;
            transition: transform 0.5s;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.3));
        }

        .product-card:hover .product-image img {
            transform: scale(1.15) rotate(5deg);
        }

        .quick-view-btn {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(233, 69, 96, 0.9);
            color: white;
            padding: 0.5rem 1.2rem;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.9rem;
            opacity: 0;
            transition: all 0.3s;
        }

        .product-card:hover .quick-view-btn {
            opacity: 1;
        }

        .product-specs {
            padding: 1.5rem;
            flex-grow: 1;
        }

        .spec-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 0.8rem;
            font-size: 0.9rem;
        }

        .spec-label {
            font-weight: 700;
            color: #f77f00;
            min-width: 85px;
        }

        .spec-value {
            color: rgba(255,255,255,0.9);
        }

        .product-footer {
            padding: 1.5rem;
            background: rgba(233, 69, 96, 0.1);
            border-top: 2px solid rgba(233, 69, 96, 0.3);
        }

        .price-section {
            text-align: center;
            margin-bottom: 1.2rem;
        }

        .old-price {
            text-decoration: line-through;
            color: rgba(255,255,255,0.5);
            font-size: 1.1rem;
            margin-right: 0.5rem;
        }

        .product-price {
            font-size: 2.2rem;
            font-weight: 900;
            background: linear-gradient(135deg, #e94560 0%, #f77f00 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: inline-block;
        }

        .discount-badge {
            display: inline-block;
            background: #ff0000;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 900;
            margin-left: 0.5rem;
            animation: pulse 1.5s infinite;
        }

        .action-buttons {
            display: flex;
            gap: 0.8rem;
        }

        .btn {
            flex: 1;
            padding: 1rem;
            border: none;
            border-radius: 25px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 0.95rem;
        }

        .btn-consult {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid #e94560;
        }

        .btn-consult:hover {
            background: rgba(233, 69, 96, 0.3);
            transform: scale(1.05);
        }

        .btn-buy {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: white;
        }

        .btn-buy:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(37, 211, 102, 0.5);
        }

        /* MODAL */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 10000;
            overflow-y: auto;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            margin: 2rem auto;
            max-width: 1100px;
            border-radius: 30px;
            overflow: hidden;
            box-shadow: 0 20px 80px rgba(233, 69, 96, 0.5);
            border: 3px solid #e94560;
            animation: slideDown 0.4s;
        }

        @keyframes slideDown {
            from { transform: translateY(-100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2.5rem;
            color: white;
            cursor: pointer;
            z-index: 100;
            background: rgba(233, 69, 96, 0.8);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: #e94560;
            transform: rotate(90deg) scale(1.2);
        }

        .modal-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            padding: 2rem;
        }

        .modal-image-section {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .main-image {
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            padding: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 400px;
        }

        .main-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            filter: drop-shadow(0 20px 40px rgba(0,0,0,0.5));
        }

        .modal-details {
            color: white;
        }

        .modal-brand {
            font-size: 1rem;
            color: #f77f00;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 800;
        }

        .modal-name {
            font-size: 2.5rem;
            font-weight: 900;
            margin: 0.5rem 0 1rem 0;
            background: linear-gradient(135deg, #e94560 0%, #f77f00 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .modal-price-section {
            background: rgba(233, 69, 96, 0.1);
            padding: 1.5rem;
            border-radius: 20px;
            margin-bottom: 2rem;
            border: 2px solid rgba(233, 69, 96, 0.3);
        }

        .modal-price {
            font-size: 3rem;
            font-weight: 900;
            color: #e94560;
        }

        .specs-grid {
            display: grid;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .spec-box {
            background: rgba(255,255,255,0.05);
            padding: 1rem;
            border-radius: 15px;
            border-left: 4px solid #e94560;
        }

        .spec-box-label {
            font-size: 0.85rem;
            color: #f77f00;
            font-weight: 700;
            margin-bottom: 0.3rem;
        }

        .spec-box-value {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .modal-actions {
            display: flex;
            gap: 1rem;
        }

        .modal-btn {
            flex: 1;
            padding: 1.2rem;
            border: none;
            border-radius: 25px;
            font-weight: 800;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
        }

        .modal-btn-consult {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid #e94560;
        }

        .modal-btn-consult:hover {
            background: rgba(233, 69, 96, 0.3);
            transform: scale(1.05);
        }

        .modal-btn-cart {
            background: linear-gradient(135deg, #e94560 0%, #f77f00 100%);
            color: white;
        }

        .modal-btn-cart:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(233, 69, 96, 0.5);
        }

        /* CART MODAL */
        .cart-modal {
            display: none;
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            max-width: 500px;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            z-index: 10001;
            box-shadow: -5px 0 30px rgba(0,0,0,0.5);
            animation: slideInRight 0.3s;
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        .cart-header {
            background: linear-gradient(135deg, #e94560 0%, #f77f00 100%);
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-title {
            font-size: 1.5rem;
            font-weight: 900;
        }

        .cart-body {
            padding: 1.5rem;
            max-height: calc(100vh - 250px);
            overflow-y: auto;
        }

        .cart-item {
            background: rgba(255,255,255,0.05);
            padding: 1rem;
            border-radius: 15px;
            margin-bottom: 1rem;
            display: flex;
            gap: 1rem;
            align-items: center;
            border: 2px solid rgba(233, 69, 96, 0.2);
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cart-item-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 700;
            margin-bottom: 0.3rem;
        }

        .cart-item-price {
            color: #e94560;
            font-weight: 900;
            font-size: 1.2rem;
        }

        .cart-item-remove {
            background: rgba(255,0,0,0.2);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s;
        }

        .cart-item-remove:hover {
            background: #ff0000;
            transform: scale(1.1);
        }

        .cart-footer {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(26, 26, 46, 0.95);
            padding: 1.5rem;
            border-top: 2px solid rgba(233, 69, 96, 0.5);
        }

        .coupon-section {
            background: rgba(255,255,255,0.05);
            padding: 1rem;
            border-radius: 15px;
            margin-bottom: 1rem;
            border: 2px solid rgba(233, 69, 96, 0.3);
        }

        .coupon-input-group {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .coupon-input {
            flex: 1;
            padding: 0.8rem;
            border: 2px solid rgba(233, 69, 96, 0.5);
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-weight: 700;
            font-size: 1rem;
            text-transform: uppercase;
            outline: none;
        }

        .coupon-input::placeholder {
            color: rgba(255,255,255,0.4);
            text-transform: none;
        }

        .coupon-btn {
            padding: 0.8rem 1.5rem;
            background: linear-gradient(135deg, #e94560 0%, #f77f00 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .coupon-btn:hover {
            transform: scale(1.05);
        }

        .coupon-applied {
            background: rgba(37, 211, 102, 0.2);
            border-color: #25D366;
            padding: 0.8rem;
            border-radius: 10px;
            margin-top: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .coupon-remove {
            background: rgba(255,0,0,0.3);
            border: none;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            font-size: 0.85rem;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            font-size: 1.5rem;
            font-weight: 900;
        }

        .cart-total-price {
            color: #e94560;
        }

        .cart-checkout-btn {
            width: 100%;
            padding: 1.2rem;
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-weight: 900;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .cart-checkout-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(37, 211, 102, 0.5);
        }

        .empty-cart {
            text-align: center;
            padding: 3rem 1rem;
            color: rgba(255,255,255,0.5);
        }

        .empty-cart-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
        }

        /* TOAST NOTIFICATION */
        .toast {
            position: fixed;
            top: 100px;
            right: 30px;
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: white;
            padding: 1.2rem 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(37, 211, 102, 0.5);
            z-index: 10002;
            display: flex;
            align-items: center;
            gap: 1rem;
            font-weight: 700;
            animation: slideInRight 0.4s, slideOutRight 0.4s 2.6s;
        }

        @keyframes slideInRight {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(400px); opacity: 0; }
        }

        .toast-icon {
            font-size: 2rem;
            animation: bounce 0.6s;
        }

        /* FOOTER */
        .footer {
            background: rgba(26, 26, 46, 0.95);
            color: white;
            text-align: center;
            padding: 3rem 1rem;
            margin-top: 4rem;
            border-top: 3px solid #e94560;
        }

        .footer-logo {
            font-size: 2rem;
            font-weight: 900;
            background: linear-gradient(135deg, #e94560 0%, #f77f00 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .modal-grid {
                grid-template-columns: 1fr;
            }

            .cart-modal {
                max-width: 100%;
            }

            .logo {
                font-size: 1.5rem;
            }

            .search-bar {
                order: 3;
                width: 100%;
                max-width: 100%;
            }

            .offers-title {
                font-size: 1.8rem;
            }
        }

        /* === APPLE STYLE OVERRIDES === */
        body {
            background: #f5f5f7 !important;
            color: #1d1d1f !important;
        }

        .header {
            background: rgba(255, 255, 255, 0.9) !important;
            backdrop-filter: saturate(180%) blur(20px);
            border-bottom: 1px solid rgba(0,0,0,0.08) !important;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05) !important;
        }

        .logo {
            background: linear-gradient(135deg, #1d1d1f, #06c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .product-card {
            background: #ffffff !important;
            border: 1px solid rgba(0,0,0,0.06);
            color: #1d1d1f !important;
        }

        .product-brand {
            color: #86868b !important;
        }

        .product-name {
            color: #1d1d1f !important;
        }

        .spec-label {
            color: #86868b !important;
        }

        .spec-value {
            color: #1d1d1f !important;
        }

        .price {
            color: #1d1d1f !important;
        }

        .offers-section {
            background: #ffffff !important;
            border-radius: 20px;
        }

        .filters-section {
            background: #ffffff !important;
            color: #1d1d1f !important;
        }

        .filter-label {
            color: #1d1d1f !important;
        }

        .filter-btn {
            background: #f5f5f7 !important;
            color: #1d1d1f !important;
            border: 1px solid rgba(0,0,0,0.1);
        }

        .filter-btn.active,
        .filter-btn:hover {
            background: #1d1d1f !important;
            color: #ffffff !important;
        }

        .btn-primary {
            background: #06c !important;
        }

        .footer {
            background: #f5f5f7 !important;
            color: #1d1d1f !important;
            border-top: 1px solid rgba(0,0,0,0.08);
        }

        .footer-logo {
            background: linear-gradient(135deg, #1d1d1f, #06c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .cart-modal {
            background: rgba(0,0,0,0.6) !important;
        }

        .cart-content {
            background: #ffffff !important;
            color: #1d1d1f !important;
        }

        .cart-item {
            background: #f5f5f7 !important;
        }

        .cart-item-name {
            color: #1d1d1f !important;
        }

        .cart-total {
            color: #1d1d1f !important;
        }

        .offers-banner {
            background: linear-gradient(135deg, #06c, #1d1d1f) !important;
        }

        .product-modal-content {
            background: #ffffff !important;
            color: #1d1d1f !important;
        }

        .modal-product-name {
            color: #1d1d1f !important;
        }

        .modal-spec-label {
            color: #86868b !important;
        }

        .modal-spec-value {
            color: #1d1d1f !important;
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <div class="header">
        <div class="header-content">
            <div class="logo">
                <span class="logo-icon">üì±</span>
                <span>GreyCell Store</span>
            </div>
            <div class="search-bar">
                <input type="text" id="search-input" placeholder="Buscar tu celular ideal...">
                <button onclick="searchProducts()">üîç</button>
            </div>
            <div class="cart-icon" onclick="toggleCart()">
                üõí
                <span class="cart-count" id="cart-count">0</span>
            </div>
        </div>
    </div>

    <!-- OFFERS BANNER -->
    <div class="offers-banner">
        üî• ¬°OFERTAS ESPECIALES! ‚Ä¢ Hasta 20% OFF ‚Ä¢ Env√≠o GRATIS ‚Ä¢ Garant√≠a Oficial ‚Ä¢ ¬°Aprovecha Ahora! üî•
    </div>

    <!-- CONTAINER -->
    <div class="container">
        
        <!-- OFFERS SECTION -->
        <div class="offers-section">
            <div class="offers-header">
                <div class="offers-title">
                    <span class="fire-icon">üî•</span>
                    SUPER OFERTAS
                    <span class="fire-icon">üî•</span>
                </div>
            </div>
            <div class="offers-grid" id="offers-container"></div>
        </div>

        <!-- FILTERS -->
        <div class="filters-section">
            <div class="filters-header">
                <h2 class="filters-title">üéØ Filtros Inteligentes</h2>
                <button class="clear-filters" onclick="clearFilters()">Limpiar Todo</button>
            </div>
            <div class="filters-grid">
                <div class="filter-group">
                    <div class="filter-label">üì± Marca</div>
                    <div class="filter-buttons" id="brand-filters">
                        <button class="filter-btn active" data-brand="all">Todas</button>
                        <button class="filter-btn" data-brand="samsung">Samsung</button>
                        <button class="filter-btn" data-brand="redmi">Redmi</button>
                        <button class="filter-btn" data-brand="poco">Poco</button>
                        <button class="filter-btn" data-brand="realme">Realme</button>
                        <button class="filter-btn" data-brand="honor">Honor</button>
                    </div>
                </div>

                <div class="filter-group">
                    <div class="filter-label">üíæ Memoria RAM</div>
                    <div class="filter-buttons" id="ram-filters">
                        <button class="filter-btn active" data-ram="all">Todas</button>
                        <button class="filter-btn" data-ram="4">4GB</button>
                        <button class="filter-btn" data-ram="6">6GB</button>
                        <button class="filter-btn" data-ram="8">8GB</button>
                        <button class="filter-btn" data-ram="12">12GB+</button>
                    </div>
                </div>

                <div class="filter-group">
                    <div class="filter-label">üí∞ Precio M√°ximo: <span id="max-price-display">S/ 5000</span></div>
                    <input type="range" id="price-range" min="0" max="5000" value="5000" step="50" style="width: 100%; height: 8px; border-radius: 5px; background: linear-gradient(135deg, #e94560 0%, #f77f00 100%); outline: none;">
                </div>
            </div>
        </div>

        <!-- PRODUCTS -->
        <div style="margin-bottom: 2rem;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <div style="font-size: 1.3rem; font-weight: 700;" id="products-count">Cargando...</div>
                <select id="sort-select" onchange="sortProducts()" style="padding: 0.8rem 1.5rem; background: rgba(233, 69, 96, 0.2); border: 2px solid #e94560; border-radius: 25px; color: white; font-weight: 700; cursor: pointer; outline: none;">
                    <option value="default">Ordenar por</option>
                    <option value="price-asc">Precio ‚Üë</option>
                    <option value="price-desc">Precio ‚Üì</option>
                    <option value="name-asc">Nombre A-Z</option>
                    <option value="name-desc">Nombre Z-A</option>
                </select>
            </div>
        </div>

        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 2rem; margin-bottom: 3rem;" id="products-container"></div>
        
        <div id="no-results" style="display: none; text-align: center; padding: 3rem; background: rgba(255,255,255,0.05); border-radius: 25px; border: 2px solid rgba(233, 69, 96, 0.3);">
            <div style="font-size: 5rem; margin-bottom: 1rem;">üòî</div>
            <div style="font-size: 1.5rem; font-weight: 700;">No encontramos productos</div>
            <div style="color: rgba(255,255,255,0.6); margin-top: 0.5rem;">Intenta con otros filtros</div>
        </div>
    </div>

    <!-- PRODUCT DETAIL MODAL -->
    <div class="modal" id="product-modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">&times;</span>
            <div class="modal-grid" id="modal-content"></div>
        </div>
    </div>

    <!-- CART MODAL -->
    <div class="cart-modal" id="cart-modal">
        <div class="cart-header">
            <div class="cart-title">üõí Mi Carrito</div>
            <span style="cursor: pointer; font-size: 1.5rem;" onclick="toggleCart()">‚úï</span>
        </div>
        <div class="cart-body" id="cart-items"></div>
        <div class="cart-footer" id="cart-footer"></div>
    </div>

    <!-- FOOTER -->
    <div class="footer">
        <div class="footer-logo">üì± GreyCell Store</div>
        <p style="font-size: 1.1rem; margin-bottom: 1rem;">Tu tienda tecnol√≥gica de confianza</p>
        <p>‚úÖ Productos Originales ‚Ä¢ ‚úÖ Garant√≠a Oficial ‚Ä¢ ‚úÖ Env√≠o Gratis</p>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; margin: 2rem 0; text-align: left; max-width: 900px; margin: 2rem auto;">
            <div>
                <h3 style="color: #e94560; margin-bottom: 0.5rem;">üìû Contacto</h3>
                <p style="font-size: 0.9rem; opacity: 0.8;">WhatsApp: +51 992 039 149</p>
                <p style="font-size: 0.9rem; opacity: 0.8;">Lun-S√°b: 9:00 AM - 8:00 PM</p>
            </div>
            <div>
                <h3 style="color: #e94560; margin-bottom: 0.5rem;">üéÅ Beneficios</h3>
                <p style="font-size: 0.9rem; opacity: 0.8;">‚úì Env√≠o gratis Lima</p>
                <p style="font-size: 0.9rem; opacity: 0.8;">‚úì Garant√≠a oficial</p>
                <p style="font-size: 0.9rem; opacity: 0.8;">‚úì Productos originales</p>
            </div>
            <div>
                <h3 style="color: #e94560; margin-bottom: 0.5rem;">üí≥ Pagos</h3>
                <p style="font-size: 0.9rem; opacity: 0.8;">‚úì Yape / Plin</p>
                <p style="font-size: 0.9rem; opacity: 0.8;">‚úì Transferencia bancaria</p>
                <p style="font-size: 0.9rem; opacity: 0.8;">‚úì Tarjetas cr√©dito/d√©bito</p>
            </div>
        </div>
        
        <div style="margin: 2rem 0; font-size: 1.3rem;">
            <p style="margin-bottom: 0.5rem;">üí¨ ¬øNecesitas ayuda?</p>
            <a href="https://wa.me/51992039149?text=Hola!%20Necesito%20ayuda" style="color: #25D366; text-decoration: none; font-weight: 900; font-size: 1.5rem;" target="_blank">
                Chatea con Nosotros
            </a>
        </div>
        
        <p style="opacity: 0.5; margin-top: 2rem; font-size: 0.85rem;">¬© 2025 GreyCell Store. Todos los derechos reservados.</p>
        <p style="opacity: 0.4; margin-top: 0.5rem; font-size: 0.75rem;">RUC: XXXXXXXXXX | Lima, Per√∫</p>
    </div>

    <!-- SCROLL TO TOP BUTTON -->
    <button id="scrollTopBtn" style="display: none; position: fixed; bottom: 30px; right: 30px; background: linear-gradient(135deg, #e94560 0%, #f77f00 100%); color: white; border: none; border-radius: 50%; width: 60px; height: 60px; font-size: 1.8rem; cursor: pointer; box-shadow: 0 10px 30px rgba(233, 69, 96, 0.5); z-index: 9999; transition: all 0.3s;" onclick="scrollToTop()">
        ‚¨ÜÔ∏è
    </button>

    <script>
const products = [
    // SAMSUNG
    { brand: "samsung", name: "Galaxy A05", ram: "128/4", screen: "6.7\" PLS LCD", camera: "50MP + 2MP", battery: "5000 mAh", price: 505, image: "SAMSUNG_A05.jpeg" },
    { brand: "samsung", name: "Galaxy A05", ram: "64/4", screen: "6.7\" PLS LCD", camera: "50MP + 2MP", battery: "5000 mAh", price: 425, image: "SAMSUNG_A05.jpeg" },
    { brand: "samsung", name: "Galaxy A05S", ram: "128/6", screen: "6.7\" PLS LCD", camera: "50MP + 2MP + 2MP", battery: "5000 mAh", price: 595, image: "SAMSUNG_A05.jpeg" },
    { brand: "samsung", name: "Galaxy A06 REGISTRADO", ram: "64/4", screen: "6.7\" PLS LCD", camera: "50MP + 2MP", battery: "5000 mAh", price: 455, image: "SAMSUNG_A06.jpeg", registered: true, offer: true, oldPrice: 510, discount: 11 },
    { brand: "samsung", name: "Galaxy A06", ram: "128/4", screen: "6.7\" PLS LCD", camera: "50MP + 2MP", battery: "5000 mAh", price: 525, image: "SAMSUNG_A06.jpeg" },
    { brand: "samsung", name: "Galaxy A07 REGISTRADO", ram: "64/4", screen: "6.7\" PLS LCD", camera: "50MP + 2MP", battery: "5000 mAh", price: 525, image: "SAMSUNG_A07.jpeg", registered: true },
    { brand: "samsung", name: "Galaxy A07 REGISTRADO", ram: "128/4", screen: "6.7\" PLS LCD", camera: "50MP + 2MP", battery: "5000 mAh", price: 575, image: "SAMSUNG_A07.jpeg", registered: true },
    { brand: "samsung", name: "Galaxy A16", ram: "128/4", screen: "6.7\" Super AMOLED", camera: "50MP + 5MP + 2MP", battery: "5000 mAh", price: 595, image: "SAMSUNG_A16.jpeg" },
    { brand: "samsung", name: "Galaxy A16 REGISTRADO", ram: "128/4", screen: "6.7\" Super AMOLED", camera: "50MP + 5MP + 2MP", battery: "5000 mAh", price: 625, image: "SAMSUNG_A16.jpeg", registered: true },
    { brand: "samsung", name: "Galaxy A16", ram: "128/6", screen: "6.7\" Super AMOLED", camera: "50MP + 5MP + 2MP", battery: "5000 mAh", price: 685, image: "SAMSUNG_A16.jpeg" },
    { brand: "samsung", name: "Galaxy A16", ram: "256/8", screen: "6.7\" Super AMOLED", camera: "50MP + 5MP + 2MP", battery: "5000 mAh", price: 815, image: "SAMSUNG_A16.jpeg" },
    { brand: "samsung", name: "Galaxy A17", ram: "256/8", screen: "6.7\" Super AMOLED", camera: "50MP + 5MP + 2MP", battery: "5000 mAh", price: 905, image: "SAMSUNG_A17.jpeg" },
    { brand: "samsung", name: "Galaxy A26", ram: "256/8", screen: "6.7\" Super AMOLED", camera: "50MP + 8MP + 5MP", battery: "5000 mAh", price: 905, image: "SAMSUNG_A26.jpeg" },
    { brand: "samsung", name: "Galaxy A36", ram: "256/8", screen: "6.6\" Super AMOLED", camera: "50MP + 8MP + 5MP", battery: "5000 mAh", price: 1195, image: "SAMSUNG_A36.jpeg" },
    { brand: "samsung", name: "Galaxy A36", ram: "256/12", screen: "6.6\" Super AMOLED", camera: "50MP + 8MP + 5MP", battery: "5000 mAh", price: 1245, image: "SAMSUNG_A36.jpeg" },
    { brand: "samsung", name: "Galaxy A56", ram: "256/8", screen: "6.7\" Super AMOLED", camera: "50MP + 12MP + 5MP", battery: "5000 mAh", price: 1395, image: "SAMSUNG_A56.jpeg" },
    { brand: "samsung", name: "Galaxy A56", ram: "256/12", screen: "6.7\" Super AMOLED", camera: "50MP + 12MP + 5MP", battery: "5000 mAh", price: 1445, image: "SAMSUNG_A56.jpeg" },
    { brand: "samsung", name: "Galaxy F17 5G", ram: "128/4", screen: "6.7\" Super AMOLED", camera: "50MP + 2MP", battery: "5000 mAh", price: 725, image: "SAMSUNG_F17.jpeg" },
    { brand: "samsung", name: "Galaxy S25 ULTRA", ram: "512/12", screen: "6.8\" Dynamic AMOLED 2X", camera: "200MP + 50MP + 12MP + 10MP", battery: "5000 mAh", price: 4120, image: "SAMSUNG_S25.jpeg", flagship: true },

    // REDMI
    { brand: "redmi", name: "Redmi A5", ram: "64/3", screen: "6.71\" IPS LCD", camera: "8MP", battery: "5000 mAh", price: 385, image: "REDMI_A5.jpeg" },
    { brand: "redmi", name: "Redmi A5 REGISTRADO", ram: "64/3", screen: "6.71\" IPS LCD", camera: "8MP", battery: "5000 mAh", price: 425, image: "REDMI_A5.jpeg", registered: true },
    { brand: "redmi", name: "Redmi A5", ram: "128/4", screen: "6.71\" IPS LCD", camera: "8MP", battery: "5000 mAh", price: 425, image: "REDMI_A5.jpeg" },
    { brand: "redmi", name: "Redmi 9C", ram: "128/4", screen: "6.53\" IPS LCD", camera: "13MP + 2MP + 2MP", battery: "5000 mAh", price: 525, image: "REDMI_9C.jpeg" },
    { brand: "redmi", name: "Redmi 14C", ram: "128/4", screen: "6.88\" IPS LCD", camera: "50MP", battery: "5160 mAh", price: 485, image: "REDMI_14C.jpeg" },
    { brand: "redmi", name: "Redmi 14C", ram: "256/4", screen: "6.88\" IPS LCD", camera: "50MP", battery: "5160 mAh", price: 515, image: "REDMI_14C.jpeg" },
    { brand: "redmi", name: "Redmi 14C", ram: "256/8", screen: "6.88\" IPS LCD", camera: "50MP", battery: "5160 mAh", price: 565, image: "REDMI_14C.jpeg" },
    { brand: "redmi", name: "Redmi 15", ram: "256/8", screen: "6.74\" AMOLED", camera: "50MP + 2MP", battery: "6000 mAh", price: 755, image: "REDMI_15.jpeg" },
    { brand: "redmi", name: "Redmi 15C", ram: "128/4", screen: "6.88\" IPS LCD", camera: "50MP", battery: "5160 mAh", price: 525, image: "REDMI_15C.jpeg" },
    { brand: "redmi", name: "Redmi 15C REGISTRADO", ram: "128/4", screen: "6.88\" IPS LCD", camera: "50MP", battery: "5160 mAh", price: 575, image: "REDMI_15C.jpeg", registered: true },
    { brand: "redmi", name: "Redmi 15C", ram: "256/8", screen: "6.88\" IPS LCD", camera: "50MP", battery: "5160 mAh", price: 595, image: "REDMI_15C.jpeg" },
    { brand: "redmi", name: "Redmi 15C REGISTRADO", ram: "256/4", screen: "6.88\" IPS LCD", camera: "50MP", battery: "5160 mAh", price: 665, image: "REDMI_15C.jpeg", registered: true },
    { brand: "redmi", name: "Note 12", ram: "256/8", screen: "6.67\" AMOLED", camera: "50MP + 8MP + 2MP", battery: "5000 mAh", price: 905, image: "REDMI_12.jpeg" },
    { brand: "redmi", name: "Note 12 PRO PLUS", ram: "256/8", screen: "6.67\" AMOLED 120Hz", camera: "200MP + 8MP + 2MP", battery: "5000 mAh", price: 1295, image: "redmi_12 pro.jpeg" },
    { brand: "redmi", name: "Note 13", ram: "128/6", screen: "6.67\" AMOLED", camera: "108MP + 8MP + 2MP", battery: "5000 mAh", price: 755, image: "redmi_13.jpeg" },
    { brand: "redmi", name: "Note 13 PRO 5G", ram: "256/8", screen: "6.67\" AMOLED 120Hz", camera: "200MP + 8MP + 2MP", battery: "5100 mAh", price: 1285, image: "redmi_13pro.jpeg" },
    { brand: "redmi", name: "Note 14", ram: "128/6", screen: "6.67\" AMOLED", camera: "50MP + 2MP", battery: "5110 mAh", price: 655, image: "xiaomi-redmi-note-14-pro.jpg", offer: true, oldPrice: 755, discount: 13 },
    { brand: "redmi", name: "Note 14", ram: "256/8", screen: "6.67\" AMOLED", camera: "50MP + 2MP", battery: "5110 mAh", price: 735, image: "xiaomi-redmi-note-14-pro.jpg" },
    { brand: "redmi", name: "Note 14S", ram: "256/8", screen: "6.67\" AMOLED", camera: "50MP + 5MP + 2MP", battery: "5110 mAh", price: 905, image: "redmi_14s.jpeg" },
    { brand: "redmi", name: "Note 14 PRO", ram: "256/8", screen: "6.67\" AMOLED 120Hz", camera: "50MP + 8MP + 2MP", battery: "5500 mAh", price: 905, image: "redmi_14pro.jpeg", offer: true, oldPrice: 1050, discount: 14 },
    { brand: "redmi", name: "Note 14 PRO 5G", ram: "256/8", screen: "6.67\" AMOLED 120Hz", camera: "200MP + 8MP + 2MP", battery: "5500 mAh", price: 1015, image: "redmi_14pro.jpeg" },
    { brand: "redmi", name: "Note 14 PRO 5G", ram: "512/12", screen: "6.67\" AMOLED 120Hz", camera: "200MP + 8MP + 2MP", battery: "5500 mAh", price: 1145, image: "redmi_14pro.jpeg" },
    { brand: "redmi", name: "Note 14 PRO PLUS", ram: "256/8", screen: "6.67\" AMOLED 120Hz", camera: "200MP + 50MP + 8MP", battery: "6200 mAh", price: 1295, image: "redmi_note14pro plus.jpeg" },
    { brand: "redmi", name: "Note 14 PRO PLUS", ram: "512/12", screen: "6.67\" AMOLED 120Hz", camera: "200MP + 50MP + 8MP", battery: "6200 mAh", price: 1415, image: "redmi_note14pro plus.jpeg" },

    // POCO
    { brand: "poco", name: "Poco X5", ram: "256/8", screen: "6.67\" AMOLED", camera: "48MP + 8MP + 2MP", battery: "5000 mAh", price: 1055, image: "poco_x5(2).jpeg" },
    { brand: "poco", name: "Poco X7 PRO", ram: "256/12", screen: "6.67\" AMOLED 120Hz", camera: "50MP + 8MP + 2MP", battery: "5000 mAh", price: 1265, image: "poco_x7pro.jpeg" },
    { brand: "poco", name: "Poco X7 PRO", ram: "512/12", screen: "6.67\" AMOLED 120Hz", camera: "50MP + 8MP + 2MP", battery: "5000 mAh", price: 1415, image: "poco_x7pro.jpeg" },
    { brand: "poco", name: "Poco M6 PRO", ram: "512/12", screen: "6.67\" AMOLED", camera: "64MP + 8MP + 2MP", battery: "5000 mAh", price: 1005, image: "poco_m6pro.jpeg" },
    { brand: "poco", name: "Poco F7 PRO", ram: "512/12", screen: "6.67\" AMOLED 120Hz", camera: "50MP + 8MP", battery: "5000 mAh", price: 1845, image: "poco_f7pro.jpeg" },

    // REALME
    { brand: "realme", name: "Realme C21Y", ram: "64/4", screen: "6.5\" IPS LCD", camera: "13MP + 2MP + 2MP", battery: "5000 mAh", price: 545, image: "realme_c21y.jpeg" },
    { brand: "realme", name: "Realme C61", ram: "256/8", screen: "6.74\" IPS LCD", camera: "50MP + 2MP", battery: "5000 mAh", price: 675, image: "realme_c61.jpeg" },

    // HONOR
    { brand: "honor", name: "Honor X5C", ram: "64/4", screen: "6.56\" IPS LCD", camera: "50MP", battery: "5200 mAh", price: 425, image: "honor_x5c.jpeg" },
    { brand: "honor", name: "Honor X5C", ram: "128/4", screen: "6.56\" IPS LCD", camera: "50MP", battery: "5200 mAh", price: 455, image: "honor_x5c.jpeg" },
    { brand: "honor", name: "Honor X5C REGISTRADO", ram: "64/4", screen: "6.56\" IPS LCD", camera: "50MP", battery: "5200 mAh", price: 455, image: "honor_x5c.jpeg", registered: true },
    { brand: "honor", name: "Honor X6B", ram: "128/4", screen: "6.56\" IPS LCD", camera: "50MP", battery: "5200 mAh", price: 505, image: "honor_x6b.jpeg" },
    { brand: "honor", name: "Honor X6C", ram: "256/8", screen: "6.77\" IPS LCD", camera: "50MP + 2MP", battery: "5200 mAh", price: 605, image: "honor_x6c.jpeg" },
    { brand: "honor", name: "Honor X6C REGISTRADO", ram: "256/8", screen: "6.77\" IPS LCD", camera: "50MP + 2MP", battery: "5200 mAh", price: 625, image: "honor_x6c.jpeg", registered: true },
    { brand: "honor", name: "Honor X7C", ram: "256/8", screen: "6.77\" IPS LCD", camera: "108MP + 2MP", battery: "6000 mAh", price: 715, image: "honor_x7c.jpeg" },
    { brand: "honor", name: "Honor X7D", ram: "256/8", screen: "6.77\" IPS LCD", camera: "108MP + 2MP", battery: "6000 mAh", price: 745, image: "honor_x7d.jpeg" },
    { brand: "honor", name: "Honor X8A", ram: "256/8", screen: "6.7\" IPS LCD", camera: "100MP + 2MP + 2MP", battery: "4500 mAh", price: 885, image: "honor_x8a.jpeg" },
    { brand: "honor", name: "Honor X8C", ram: "256/8", screen: "6.7\" IPS LCD", camera: "108MP + 5MP + 2MP", battery: "5330 mAh", price: 875, image: "honor_x8c.jpeg" },
    { brand: "honor", name: "Honor 200 LITE", ram: "256/8", screen: "6.7\" AMOLED", camera: "108MP + 5MP + 2MP", battery: "4500 mAh", price: 955, image: "honor_200lite.jpeg" },
    { brand: "honor", name: "Honor 200", ram: "256/12", screen: "6.7\" AMOLED 120Hz", camera: "50MP + 50MP + 12MP", battery: "5200 mAh", price: 1545, image: "honor_200.jpeg" },
    { brand: "honor", name: "Honor 400", ram: "12/256", screen: "6.7\" AMOLED", camera: "108MP + 50MP + 2MP", battery: "5200 mAh", price: 1495, image: "honor_400.jpeg" },
    { brand: "honor", name: "Honor 400", ram: "12/512", screen: "6.7\" AMOLED", camera: "108MP + 50MP + 2MP", battery: "5200 mAh", price: 1595, image: "honor_400.jpeg" },
    { brand: "honor", name: "Honor 400 LITE", ram: "256/12", screen: "6.7\" AMOLED", camera: "108MP + 5MP + 2MP", battery: "5200 mAh", price: 1055, image: "honor_400lite.jpeg", offer: true, oldPrice: 1195, discount: 12 },
    { brand: "honor", name: "Honor 400 PRO", ram: "512/12", screen: "6.78\" AMOLED 120Hz", camera: "108MP + 50MP + 12MP", battery: "5200 mAh", price: 2695, image: "honor_400pro.jpeg" },

    // MOTOROLA
    { brand: "motorola", name: "Motorola G04 REGISTRADO", ram: "128/4", screen: "6.6\" IPS LCD", camera: "16MP", battery: "5000 mAh", price: 475, image: "motorola_g04.jpeg", registered: true },
    { brand: "motorola", name: "Motorola E14 REGISTRADO", ram: "64/2", screen: "6.56\" IPS LCD", camera: "13MP", battery: "5000 mAh", price: 395, image: "motorola_e14.jpeg", registered: true },
    { brand: "motorola", name: "Motorola E15 REGISTRADO", ram: "64/2", screen: "6.56\" IPS LCD", camera: "13MP", battery: "5000 mAh", price: 425, image: "motorola_e15.jpeg", registered: true },

    // MAGIC
    { brand: "magic", name: "Magic 7 LITE", ram: "256/8", screen: "6.78\" AMOLED", camera: "108MP + 5MP + 2MP", battery: "6600 mAh", price: 1195, image: "honor magic 7 lite.jpeg", offer: true, oldPrice: 1345, discount: 11 },
    { brand: "magic", name: "Magic 7 LITE", ram: "512/8", screen: "6.78\" AMOLED", camera: "108MP + 5MP + 2MP", battery: "6600 mAh", price: 1295, image: "honor magic 7 lite.jpeg" },
    { brand: "magic", name: "Magic 7 LITE REGISTRADO", ram: "256/8", screen: "6.78\" AMOLED", camera: "108MP + 5MP + 2MP", battery: "6600 mAh", price: 1325, image: "honor magic 7 lite.jpeg", registered: true }
];

// CART STATE
let cart = JSON.parse(localStorage.getItem('greycell_cart')) || [];
let appliedCoupon = localStorage.getItem('greycell_coupon') || null;

// COUPON DATABASE
const coupons = {
    'GREYCELL15': {
        code: 'GREYCELL15',
        discount: 5,
        description: '5% de descuento'
    }
};

// FILTERS STATE
let currentFilters = { brand: 'all', ram: 'all', maxPrice: 5000, search: '' };
let currentSort = 'default';

// INIT
document.addEventListener('DOMContentLoaded', function() {
    renderOffers();
    renderProducts();
    setupEventListeners();
    updateCartUI();
});

// EVENT LISTENERS
function setupEventListeners() {
    document.querySelectorAll('#brand-filters .filter-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            document.querySelectorAll('#brand-filters .filter-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            currentFilters.brand = this.dataset.brand;
            renderProducts();
        });
    });

    document.querySelectorAll('#ram-filters .filter-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            document.querySelectorAll('#ram-filters .filter-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            currentFilters.ram = this.dataset.ram;
            renderProducts();
        });
    });

    const priceSlider = document.getElementById('price-range');
    priceSlider.addEventListener('input', function() {
        currentFilters.maxPrice = parseInt(this.value);
        document.getElementById('max-price-display').textContent = `S/ ${currentFilters.maxPrice}`;
        renderProducts();
    });

    document.getElementById('search-input').addEventListener('input', function() {
        currentFilters.search = this.value.toLowerCase();
        renderProducts();
    });
}

// RENDER OFFERS
function renderOffers() {
    const offersContainer = document.getElementById('offers-container');
    const offerProducts = products.filter(p => p.offer);
    
    offersContainer.innerHTML = offerProducts.map(product => createProductHTML(product, true)).join('');
}

// FILTER & RENDER PRODUCTS
function renderProducts() {
    const container = document.getElementById('products-container');
    const noResults = document.getElementById('no-results');
    const productsCount = document.getElementById('products-count');
    
    let filtered = products.filter(p => !p.offer);
    
    if (currentFilters.brand !== 'all') {
        filtered = filtered.filter(p => p.brand === currentFilters.brand);
    }
    
    if (currentFilters.ram !== 'all') {
        filtered = filtered.filter(p => {
            const ram = parseInt(p.ram.split('/')[1]);
            return currentFilters.ram === '12' ? ram >= 12 : ram == currentFilters.ram;
        });
    }
    
    filtered = filtered.filter(p => p.price <= currentFilters.maxPrice);
    
    if (currentFilters.search) {
        filtered = filtered.filter(p => 
            p.name.toLowerCase().includes(currentFilters.search) ||
            p.brand.toLowerCase().includes(currentFilters.search)
        );
    }
    
    filtered = applySorting(filtered);
    
    productsCount.textContent = `${filtered.length} productos encontrados`;
    
    if (filtered.length === 0) {
        container.style.display = 'none';
        noResults.style.display = 'block';
    } else {
        container.style.display = 'grid';
        noResults.style.display = 'none';
        container.innerHTML = filtered.map(product => createProductHTML(product, false)).join('');
    }
}

// PRODUCT HTML
function createProductHTML(product, isOffer) {
    return `
        <div class="product-card" onclick="openModal(${JSON.stringify(product).replace(/"/g, '&quot;')})">
            ${isOffer ? `<div class="offer-badge">-${product.discount}% OFF</div>` : ''}
            <div class="product-header">
                <div class="product-brand">${product.brand.toUpperCase()}</div>
                <div class="product-name">${product.name}</div>
            </div>
            <div class="product-image">
                <img src="${product.image}" alt="${product.name}" onerror="this.src='https://via.placeholder.com/200x200?text=Sin+Imagen'">
                <div class="quick-view-btn">üëÅÔ∏è Ver Detalles</div>
            </div>
            <div class="product-specs">
                <div class="spec-item">
                    <span class="spec-label">üíæ RAM/ROM:</span>
                    <span class="spec-value">${product.ram} GB</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">üì± Pantalla:</span>
                    <span class="spec-value">${product.screen}</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">üì∏ C√°mara:</span>
                    <span class="spec-value">${product.camera}</span>
                </div>
            </div>
            <div class="product-footer">
                <div class="price-section">
                    ${product.oldPrice ? `<span class="old-price">S/ ${product.oldPrice}</span>` : ''}
                    <span class="product-price">S/ ${product.price}</span>
                    ${product.discount ? `<span class="discount-badge">-${product.discount}%</span>` : ''}
                </div>
                <div class="action-buttons">
                    <button class="btn btn-consult" onclick="event.stopPropagation(); consultProduct(${JSON.stringify(product).replace(/"/g, '&quot;')})">
                        üí¨ Consultar
                    </button>
                    <button class="btn btn-buy" onclick="event.stopPropagation(); addToCart(${JSON.stringify(product).replace(/"/g, '&quot;')})">
                        üõí Comprar
                    </button>
                </div>
            </div>
        </div>
    `;
}

// MODAL
function openModal(product) {
    const modal = document.getElementById('product-modal');
    const modalContent = document.getElementById('modal-content');
    
    modalContent.innerHTML = `
        <div class="modal-image-section">
            <div class="main-image">
                <img src="${product.image}" alt="${product.name}" onerror="this.src='https://via.placeholder.com/400x400?text=Sin+Imagen'">
            </div>
        </div>
        <div class="modal-details">
            <div class="modal-brand">${product.brand}</div>
            <h1 class="modal-name">${product.name}</h1>
            
            <div class="modal-price-section">
                ${product.oldPrice ? `<div class="old-price" style="font-size: 1.5rem;">Antes: S/ ${product.oldPrice}</div>` : ''}
                <div class="modal-price">S/ ${product.price}</div>
                ${product.discount ? `<div class="discount-badge" style="font-size: 1.2rem; padding: 0.5rem 1rem;">¬°AHORRA ${product.discount}%!</div>` : ''}
                ${product.offer ? `<div style="color: #25D366; font-weight: 700; margin-top: 0.5rem;">üéüÔ∏è Cup√≥n de descuento aplicado autom√°ticamente</div>` : ''}
            </div>
            
            <div style="font-size: 1.3rem; font-weight: 700; margin-bottom: 1rem; color: #f77f00;">üìã Especificaciones Completas:</div>
            <div class="specs-grid">
                <div class="spec-box">
                    <div class="spec-box-label">üíæ Memoria</div>
                    <div class="spec-box-value">${product.ram} GB (ROM/RAM)</div>
                </div>
                <div class="spec-box">
                    <div class="spec-box-label">üì± Pantalla</div>
                    <div class="spec-box-value">${product.screen}</div>
                </div>
                <div class="spec-box">
                    <div class="spec-box-label">üì∏ C√°maras</div>
                    <div class="spec-box-value">${product.camera}</div>
                </div>
                <div class="spec-box">
                    <div class="spec-box-label">üîã Bater√≠a</div>
                    <div class="spec-box-value">${product.battery}</div>
                </div>
                ${product.registered ? `
                <div class="spec-box">
                    <div class="spec-box-label">‚úÖ Estado</div>
                    <div class="spec-box-value">Registrado en Per√∫</div>
                </div>
                ` : ''}
                ${product.flagship ? `
                <div class="spec-box">
                    <div class="spec-box-label">‚ú® Categor√≠a</div>
                    <div class="spec-box-value">Flagship - Tope de Gama</div>
                </div>
                ` : ''}
            </div>
            
            <div class="modal-actions">
                <button class="modal-btn modal-btn-consult" onclick="consultProduct(${JSON.stringify(product).replace(/"/g, '&quot;')})">
                    üí¨ Consultar
                </button>
                <button class="modal-btn modal-btn-cart" onclick="addToCart(${JSON.stringify(product).replace(/"/g, '&quot;')})">
                    üõí Agregar al Carrito
                </button>
            </div>
        </div>
    `;
    
    modal.style.display = 'block';
}

function closeModal() {
    document.getElementById('product-modal').style.display = 'none';
}

// CART FUNCTIONS
function addToCart(product) {
    const existingItem = cart.find(item => item.name === product.name && item.ram === product.ram);
    
    if (!existingItem) {
        cart.push({...product, quantity: 1});
        localStorage.setItem('greycell_cart', JSON.stringify(cart));
        updateCartUI();
        
        // Show toast notification
        showToast(`‚úÖ ${product.name} agregado al carrito`, 'success');
    } else {
        showToast(`‚ö†Ô∏è Este producto ya est√° en tu carrito`, 'warning');
    }
}

function showToast(message, type) {
    const existingToast = document.querySelector('.toast');
    if (existingToast) {
        existingToast.remove();
    }
    
    const toast = document.createElement('div');
    toast.className = 'toast';
    
    const icon = type === 'success' ? '‚úÖ' : '‚ö†Ô∏è';
    toast.innerHTML = `
        <span class="toast-icon">${icon}</span>
        <span>${message}</span>
    `;
    
    document.body.appendChild(toast);
    
    setTimeout(() => {
        toast.remove();
    }, 3000);
}

function removeFromCart(index) {
    cart.splice(index, 1);
    localStorage.setItem('greycell_cart', JSON.stringify(cart));
    updateCartUI();
}

function updateCartUI() {
    document.getElementById('cart-count').textContent = cart.length;
    
    const cartItems = document.getElementById('cart-items');
    const cartFooter = document.getElementById('cart-footer');
    
    if (cart.length === 0) {
        cartItems.innerHTML = `
            <div class="empty-cart">
                <div class="empty-cart-icon">üõí</div>
                <div style="font-size: 1.2rem; font-weight: 700;">Tu carrito est√° vac√≠o</div>
                <div style="margin-top: 0.5rem;">¬°Agrega productos para comenzar!</div>
            </div>
        `;
        cartFooter.innerHTML = '';
        appliedCoupon = null;
        localStorage.removeItem('greycell_coupon');
    } else {
        cartItems.innerHTML = cart.map((item, index) => `
            <div class="cart-item">
                <div class="cart-item-image">
                    <img src="${item.image}" alt="${item.name}">
                </div>
                <div class="cart-item-details">
                    <div class="cart-item-name">${item.name} (${item.ram})</div>
                    <div class="cart-item-price">S/ ${item.price}</div>
                    ${item.offer ? `<div style="color: #25D366; font-size: 0.8rem;">üéüÔ∏è Con descuento ${item.discount}%</div>` : ''}
                </div>
                <button class="cart-item-remove" onclick="removeFromCart(${index})">üóëÔ∏è</button>
            </div>
        `).join('');
        
        const subtotal = cart.reduce((sum, item) => sum + item.price, 0);
        const totalOfferDiscount = cart.reduce((sum, item) => sum + (item.oldPrice ? (item.oldPrice - item.price) : 0), 0);
        
        let couponDiscount = 0;
        if (appliedCoupon && coupons[appliedCoupon]) {
            couponDiscount = Math.round(subtotal * (coupons[appliedCoupon].discount / 100));
        }
        
        const total = subtotal - couponDiscount;
        
        cartFooter.innerHTML = `
            <div class="coupon-section">
                <div style="font-weight: 700; margin-bottom: 0.5rem; color: #f77f00;">üéüÔ∏è ¬øTienes un cup√≥n?</div>
                ${!appliedCoupon ? `
                    <div class="coupon-input-group">
                        <input type="text" id="coupon-input" class="coupon-input" placeholder="Ingresa tu cup√≥n" maxlength="20">
                        <button class="coupon-btn" onclick="applyCoupon()">Aplicar</button>
                    </div>
                ` : `
                    <div class="coupon-applied">
                        <div>
                            <div style="font-weight: 700; color: #25D366;">‚úÖ ${appliedCoupon}</div>
                            <div style="font-size: 0.85rem; color: rgba(255,255,255,0.7);">${coupons[appliedCoupon].description}</div>
                        </div>
                        <button class="coupon-remove" onclick="removeCoupon()">‚úï Quitar</button>
                    </div>
                `}
            </div>
            
            <div style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 10px; margin-bottom: 1rem;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span>Subtotal:</span>
                    <span style="font-weight: 700;">S/ ${subtotal}</span>
                </div>
                ${totalOfferDiscount > 0 ? `
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; color: #25D366;">
                    <span>üî• Descuentos en productos:</span>
                    <span style="font-weight: 700;">-S/ ${totalOfferDiscount}</span>
                </div>
                ` : ''}
                ${couponDiscount > 0 ? `
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; color: #25D366;">
                    <span>üéüÔ∏è Cup√≥n ${appliedCoupon}:</span>
                    <span style="font-weight: 700;">-S/ ${couponDiscount}</span>
                </div>
                ` : ''}
            </div>
            
            <div class="cart-total">
                <span>Total a Pagar:</span>
                <span class="cart-total-price">S/ ${total}</span>
            </div>
            ${(totalOfferDiscount + couponDiscount) > 0 ? `
                <div style="text-align: center; color: #25D366; font-weight: 700; margin-bottom: 1rem; font-size: 0.95rem;">
                    üí∞ ¬°Ahorras S/ ${totalOfferDiscount + couponDiscount} en total!
                </div>
            ` : ''}
            <button class="cart-checkout-btn" onclick="checkout()">
                Proceder a Compra üöÄ
            </button>
        `;
    }
}

function toggleCart() {
    const cartModal = document.getElementById('cart-modal');
    cartModal.style.display = cartModal.style.display === 'block' ? 'none' : 'block';
}

// COUPON FUNCTIONS
function applyCoupon() {
    const input = document.getElementById('coupon-input');
    const code = input.value.trim().toUpperCase();
    
    if (!code) {
        showToast('‚ö†Ô∏è Por favor ingresa un cup√≥n', 'warning');
        return;
    }
    
    if (!coupons[code]) {
        showToast('‚ùå Cup√≥n inv√°lido o expirado', 'warning');
        input.value = '';
        return;
    }
    
    appliedCoupon = code;
    localStorage.setItem('greycell_coupon', code);
    updateCartUI();
    
    showToast(`‚úÖ ¬°Cup√≥n ${code} aplicado! ${coupons[code].description}`, 'success');
}

function removeCoupon() {
    appliedCoupon = null;
    localStorage.removeItem('greycell_coupon');
    updateCartUI();
    showToast('üóëÔ∏è Cup√≥n removido', 'warning');
}

// CHECKOUT
function checkout() {
    if (cart.length === 0) {
        alert('Tu carrito est√° vac√≠o');
        return;
    }
    
    const now = new Date();
    const ticketNumber = 'GC' + now.getTime().toString().slice(-8);
    const fecha = now.toLocaleDateString('es-PE', { day: '2-digit', month: '2-digit', year: 'numeric' });
    const hora = now.toLocaleTimeString('es-PE', { hour: '2-digit', minute: '2-digit' });
    
    let message = '‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\n';
    message += '‚ïë  üõí *TICKET DE COMPRA*          ‚ïë\n';
    message += '‚ïë     *GREYCELL STORE*            ‚ïë\n';
    message += '‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\n\n';
    
    message += `üìã *Ticket N¬∞:* ${ticketNumber}\n`;
    message += `üìÖ *Fecha:* ${fecha} - ${hora}\n`;
    message += `üë§ *Cliente:* [Por confirmar]\n`;
    message += '\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n';
    message += 'üì± *DETALLE DE PRODUCTOS*\n';
    message += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n';
    
    let subtotal = 0;
    let totalOfferDiscount = 0;
    
    cart.forEach((item, index) => {
        message += `*${index + 1}. ${item.brand.toUpperCase()} ${item.name}*\n`;
        message += `   ‚îú‚îÄ üíæ Memoria: ${item.ram} GB\n`;
        message += `   ‚îú‚îÄ üì± Pantalla: ${item.screen}\n`;
        message += `   ‚îú‚îÄ üì∏ C√°mara: ${item.camera}\n`;
        message += `   ‚îú‚îÄ üîã Bater√≠a: ${item.battery}\n`;
        
        if (item.registered) {
            message += `   ‚îú‚îÄ ‚úÖ Registrado en Per√∫\n`;
        }
        
        if (item.offer) {
            message += `   ‚îú‚îÄ üí∞ Precio normal: S/ ${item.oldPrice}\n`;
            message += `   ‚îú‚îÄ üéüÔ∏è Descuento especial: -${item.discount}%\n`;
            message += `   ‚îî‚îÄ ‚úÖ *Precio final: S/ ${item.price}*\n`;
            totalOfferDiscount += (item.oldPrice - item.price);
        } else {
            message += `   ‚îî‚îÄ üí∞ *Precio: S/ ${item.price}*\n`;
        }
        
        message += '\n';
        subtotal += item.price;
    });
    
    message += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n';
    message += 'üíµ *RESUMEN DE PAGO*\n';
    message += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n';
    message += `Subtotal productos: *S/ ${subtotal}*\n`;
    
    if (totalOfferDiscount > 0) {
        message += `üî• Descuentos aplicados: *-S/ ${totalOfferDiscount}*\n`;
    }
    
    let couponDiscount = 0;
    if (appliedCoupon && coupons[appliedCoupon]) {
        couponDiscount = Math.round(subtotal * (coupons[appliedCoupon].discount / 100));
        message += `üéüÔ∏è Cup√≥n *${appliedCoupon}* (${coupons[appliedCoupon].discount}%): *-S/ ${couponDiscount}*\n`;
    }
    
    const total = subtotal - couponDiscount;
    const totalSavings = totalOfferDiscount + couponDiscount;
    
    if (totalSavings > 0) {
        message += `\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n`;
        message += `‚îÇ üí∞ *AHORRO TOTAL: S/ ${totalSavings}* üéâ   ‚îÇ\n`;
        message += `‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n`;
    }
    
    message += `\n‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\n`;
    message += `‚ïë üí≥ *TOTAL A PAGAR: S/ ${total}*     ‚ïë\n`;
    message += `‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\n\n`;
    
    message += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n';
    message += '‚úÖ *BENEFICIOS INCLUIDOS*\n';
    message += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n';
    message += '‚úì Producto 100% original\n';
    message += '‚úì Garant√≠a oficial de f√°brica\n';
    message += '‚úì Factura o Boleta electr√≥nica\n';
    message += '‚úì Env√≠o GRATIS a todo Lima\n';
    message += '‚úì Asesor√≠a post-venta\n';
    
    if (appliedCoupon) {
        message += `‚úì Cup√≥n ${appliedCoupon} validado ‚úÖ\n`;
    }
    
    message += '\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n';
    message += 'üì¶ *PARA CONCLUIR TU COMPRA:*\n';
    message += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n';
    message += '1Ô∏è‚É£ Confirma los productos seleccionados\n';
    message += '2Ô∏è‚É£ Proporciona tu nombre completo\n';
    message += '3Ô∏è‚É£ Indica tu direcci√≥n de entrega\n';
    message += '4Ô∏è‚É£ Elige tu m√©todo de pago:\n';
    message += '   ‚Ä¢ Transferencia/Yape/Plin\n';
    message += '   ‚Ä¢ Tarjeta de cr√©dito/d√©bito\n';
    message += '   ‚Ä¢ Efectivo (contra entrega)\n';
    message += '5Ô∏è‚É£ Recibe tu pedido en 24-48 horas\n\n';
    
    message += '‚ö° *¬øListo para finalizar tu compra?*\n';
    message += 'üí¨ Responde este mensaje para continuar\n\n';
    
    message += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n';
    message += 'üìû *GREYCELL STORE*\n';
    message += 'üïê Atenci√≥n: Lun-S√°b 9:00-20:00\n';
    message += 'üì± WhatsApp: +51 992 039 149\n';
    message += 'üèÜ Tu tienda tecnol√≥gica de confianza\n';
    message += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ';
    
    const whatsappUrl = `https://wa.me/51992039149?text=${encodeURIComponent(message)}`;
    window.open(whatsappUrl, '_blank');
}

// CONSULT
function consultProduct(product) {
    let message = `Hola! üëã\n\nQuiero consultar sobre:\n\n`;
    message += `üì± *${product.name}*\n`;
    message += `üíæ ${product.ram} GB\n`;
    message += `üí∞ Precio: S/ ${product.price}\n`;
    
    if (product.offer) {
        message += `\nüéüÔ∏è *¬°TIENE DESCUENTO DE ${product.discount}%!*\n`;
        message += `Precio original: S/ ${product.oldPrice}\n`;
    }
    
    message += `\n¬øEst√° disponible? ¬øTienen stock?`;
    
    const whatsappUrl = `https://wa.me/51992039149?text=${encodeURIComponent(message)}`;
    window.open(whatsappUrl, '_blank');
}

// UTILITIES
function searchProducts() {
    currentFilters.search = document.getElementById('search-input').value.toLowerCase();
    renderProducts();
}

function clearFilters() {
    currentFilters = { brand: 'all', ram: 'all', maxPrice: 5000, search: '' };
    document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
    document.querySelectorAll('.filter-btn[data-brand="all"], .filter-btn[data-ram="all"]').forEach(btn => btn.classList.add('active'));
    document.getElementById('price-range').value = 5000;
    document.getElementById('max-price-display').textContent = 'S/ 5000';
    document.getElementById('search-input').value = '';
    document.getElementById('sort-select').value = 'default';
    currentSort = 'default';
    renderProducts();
}

function sortProducts() {
    currentSort = document.getElementById('sort-select').value;
    renderProducts();
}

function applySorting(products) {
    const sorted = [...products];
    switch(currentSort) {
        case 'price-asc': return sorted.sort((a, b) => a.price - b.price);
        case 'price-desc': return sorted.sort((a, b) => b.price - a.price);
        case 'name-asc': return sorted.sort((a, b) => a.name.localeCompare(b.name));
        case 'name-desc': return sorted.sort((a, b) => b.name.localeCompare(a.name));
        default: return sorted;
    }
}

// CLOSE MODALS ON OUTSIDE CLICK
window.onclick = function(event) {
    const modal = document.getElementById('product-modal');
    if (event.target == modal) {
        closeModal();
    }
}

// SCROLL TO TOP
function scrollToTop() {
    window.scrollTo({
        top: 0,
        behavior: 'smooth'
    });
}

// SHOW/HIDE SCROLL TO TOP BUTTON
window.addEventListener('scroll', function() {
    const scrollBtn = document.getElementById('scrollTopBtn');
    if (window.pageYOffset > 300) {
        scrollBtn.style.display = 'block';
    } else {
        scrollBtn.style.display = 'none';
    }
});

// HOVER EFFECT FOR SCROLL BUTTON
document.addEventListener('DOMContentLoaded', function() {
    const scrollBtn = document.getElementById('scrollTopBtn');
    scrollBtn.addEventListener('mouseenter', function() {
        this.style.transform = 'scale(1.1) rotate(5deg)';
    });
    scrollBtn.addEventListener('mouseleave', function() {
        this.style.transform = 'scale(1) rotate(0deg)';
    });
});
    </script>
</body>
</html>
